<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Feature Extraction And Statistics for Time Series â€¢ feasts</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Feature Extraction And Statistics for Time Series">
<meta property="og:description" content="A collection of tsibble analysis tools.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">feasts</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/tidyverts/feasts">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="feasts" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#feasts" class="anchor"></a>feasts</h1></div>

<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>feasts provides a collection of tools for the analysis of time series data. The package name is an acryonym comprising of its key features: <em>Feature Extraction And Statistics for Time Series</em>.</p>
<p>The package works with tidy temporal data provided by the <a href="https://github.com/tidyverts/tsibble">tsibble</a> package to produce time series features, decompositions, statistical summaries and convenient visualisations. These features are useful in understanding the behaviour of time series data, and closely integrates with the tidy forecasting workflow used in the <a href="https://github.com/tidyverts/fable">fable</a> package.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the development version from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># install.packages("devtools")</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">"tidyverts/feasts"</span>)</a></code></pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(feasts)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tsibbledata)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(ggplot2)</a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(lubridate)</a></code></pre></div>
<div id="graphics" class="section level3">
<h3 class="hasAnchor">
<a href="#graphics" class="anchor"></a>Graphics</h3>
<p>Visualisation is often the first step in understanding the patterns in time series data. The package uses <a href="https://github.com/tidyverse/ggplot2">ggplot2</a> to produce customisable graphics to visualise time series patterns.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">aus_production <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="reference/gg_season.html">gg_season</a></span>(Beer)</a></code></pre></div>
<p><img src="reference/figures/README-graphics-1.png" width="100%"></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">aus_production <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="reference/gg_subseries.html">gg_subseries</a></span>(Beer)</a></code></pre></div>
<p><img src="reference/figures/README-graphics-2.png" width="100%"></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">aus_production <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="kw"><a href="http://lubridate.tidyverse.org/reference/year.html">year</a></span>(Quarter) <span class="op">&gt;</span><span class="st"> </span><span class="dv">1991</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="reference/gg_lag.html">gg_lag</a></span>(Beer)</a></code></pre></div>
<p><img src="reference/figures/README-graphics-3.png" width="100%"></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">aus_production <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="reference/ACF.html">ACF</a></span>(Beer) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/ggplot2/topics/autoplot">autoplot</a></span>()</a></code></pre></div>
<p><img src="reference/figures/README-graphics-4.png" width="100%"></p>
</div>
<div id="decompositions" class="section level3">
<h3 class="hasAnchor">
<a href="#decompositions" class="anchor"></a>Decompositions</h3>
<p>A common task in time series analysis is decomposing a time series into some simpler components. The feasts package supports four common time series decomposition methods:</p>
<ul>
<li>Classical decomposition</li>
<li>STL decomposition</li>
<li>X11 decomposition</li>
<li>X-13ARIMA-SEATS decomposition</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">aus_production <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="reference/STL.html">STL</a></span>(Beer <span class="op">~</span><span class="st"> </span><span class="kw">season</span>(<span class="dt">window =</span> <span class="ot">Inf</span>))</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="co">#&gt; # A dable:           218 x 6 [1Q]</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="co">#&gt; # STL Decomposition: Beer = trend + season_year + remainder</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="co">#&gt;    Quarter  Beer trend season_year remainder seas_adjust</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="co">#&gt;      &lt;qtr&gt; &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="co">#&gt;  1 1956 Q1   284  272.        2.14     10.1         282.</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="co">#&gt;  2 1956 Q2   213  264.      -42.6      -8.56        256.</span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="co">#&gt;  3 1956 Q3   227  258.      -28.5      -2.34        255.</span></a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="co">#&gt;  4 1956 Q4   308  253.       69.0     -14.4         239.</span></a>
<a class="sourceLine" id="cb7-10" data-line-number="10"><span class="co">#&gt;  5 1957 Q1   262  257.        2.14      2.55        260.</span></a>
<a class="sourceLine" id="cb7-11" data-line-number="11"><span class="co">#&gt;  6 1957 Q2   228  261.      -42.6       9.47        271.</span></a>
<a class="sourceLine" id="cb7-12" data-line-number="12"><span class="co">#&gt;  7 1957 Q3   236  263.      -28.5       1.80        264.</span></a>
<a class="sourceLine" id="cb7-13" data-line-number="13"><span class="co">#&gt;  8 1957 Q4   320  264.       69.0     -12.7         251.</span></a>
<a class="sourceLine" id="cb7-14" data-line-number="14"><span class="co">#&gt;  9 1958 Q1   272  266.        2.14      4.32        270.</span></a>
<a class="sourceLine" id="cb7-15" data-line-number="15"><span class="co">#&gt; 10 1958 Q2   233  266.      -42.6       9.72        276.</span></a>
<a class="sourceLine" id="cb7-16" data-line-number="16"><span class="co">#&gt; # â€¦ with 208 more rows</span></a></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">aus_production <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="reference/STL.html">STL</a></span>(Beer <span class="op">~</span><span class="st"> </span><span class="kw">season</span>(<span class="dt">window =</span> <span class="ot">Inf</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/ggplot2/topics/autoplot">autoplot</a></span>()</a></code></pre></div>
<p><img src="reference/figures/README-dcmp-plot-1.png" width="100%"></p>
</div>
<div id="feature-extraction-and-statistics" class="section level3">
<h3 class="hasAnchor">
<a href="#feature-extraction-and-statistics" class="anchor"></a>Feature extraction and statistics</h3>
<p>Extract features and statistics across a large collection of time series to identify unusual/extreme time series, or find clusters of similar behaviour.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">aus_retail <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/features.html">features</a></span>(Turnover, stl_features)</a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="co">#&gt; # A tibble: 152 x 9</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="co">#&gt;    State Industry Turnover_trend_â€¦ Turnover_seasonâ€¦ Turnover_spike Turnover_linearâ€¦ Turnover_curvatâ€¦</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt;               &lt;dbl&gt;            &lt;dbl&gt;          &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="co">#&gt;  1 Austâ€¦ Cafes, â€¦            0.989            0.540     0.0000617             224.             48.5 </span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="co">#&gt;  2 Austâ€¦ Cafes, â€¦            0.993            0.609     0.000116              336.             76.1 </span></a>
<a class="sourceLine" id="cb9-8" data-line-number="8"><span class="co">#&gt;  3 Austâ€¦ Clothinâ€¦            0.990            0.914     0.00000493            129.             16.8 </span></a>
<a class="sourceLine" id="cb9-9" data-line-number="9"><span class="co">#&gt;  4 Austâ€¦ Clothinâ€¦            0.991            0.947     0.0000260             192.             18.4 </span></a>
<a class="sourceLine" id="cb9-10" data-line-number="10"><span class="co">#&gt;  5 Austâ€¦ Departmâ€¦            0.975            0.977     0.0000285             130.            -42.8 </span></a>
<a class="sourceLine" id="cb9-11" data-line-number="11"><span class="co">#&gt;  6 Austâ€¦ Electriâ€¦            0.991            0.925     0.0000319             232.             -8.24</span></a>
<a class="sourceLine" id="cb9-12" data-line-number="12"><span class="co">#&gt;  7 Austâ€¦ Food reâ€¦            0.999            0.874     0.000250             1247.            197.  </span></a>
<a class="sourceLine" id="cb9-13" data-line-number="13"><span class="co">#&gt;  8 Austâ€¦ Footweaâ€¦            0.978            0.929     0.00000775             63.0             1.60</span></a>
<a class="sourceLine" id="cb9-14" data-line-number="14"><span class="co">#&gt;  9 Austâ€¦ Furnituâ€¦            0.979            0.657     0.0000487             139.            -22.5 </span></a>
<a class="sourceLine" id="cb9-15" data-line-number="15"><span class="co">#&gt; 10 Austâ€¦ Hardwarâ€¦            0.992            0.892     0.0000156             170.             44.1 </span></a>
<a class="sourceLine" id="cb9-16" data-line-number="16"><span class="co">#&gt; # â€¦ with 142 more rows, and 2 more variables: Turnover_seasonal_peak.year &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb9-17" data-line-number="17"><span class="co">#&gt; #   Turnover_seasonal_trough.year &lt;dbl&gt;</span></a></code></pre></div>
<p>This allows you to visualise the behaviour of many time series (where the plotting methods above would show too much information).</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">aus_retail <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/features.html">features</a></span>(Turnover, stl_features) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/ggplot2/topics/ggplot">ggplot</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(<span class="dt">x =</span> Turnover_trend_strength, <span class="dt">y =</span> Turnover_seasonal_strength.year)) <span class="op">+</span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/ggplot2/topics/geom_point">geom_point</a></span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/ggplot2/topics/facet_wrap">facet_wrap</a></span>(<span class="kw"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span>(State))</a></code></pre></div>
<p><img src="reference/figures/README-features-plot-1.png" width="100%"></p>
<p>Most of Australianâ€™s retail industries are highly trended and seasonal for all states.</p>
<p>Itâ€™s also easy to extract the most (and least) seasonal time series.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">extreme_seasonalities &lt;-<span class="st"> </span>aus_retail <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/features.html">features</a></span>(Turnover, stl_features) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(Turnover_seasonal_strength.year <span class="op">%in%</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/range">range</a></span>(Turnover_seasonal_strength.year))</a>
<a class="sourceLine" id="cb11-4" data-line-number="4">aus_retail <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/join.html">right_join</a></span>(extreme_seasonalities, <span class="dt">by =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"State"</span>, <span class="st">"Industry"</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/ggplot2/topics/ggplot">ggplot</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(<span class="dt">x =</span> Month, <span class="dt">y =</span> Turnover)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/ggplot2/topics/geom_path">geom_line</a></span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/ggplot2/topics/facet_grid">facet_grid</a></span>(<span class="kw"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span>(State, Industry, scales<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/scales/topics/number_format">percent</a></span>(Turnover_seasonal_strength.year)), </a>
<a class="sourceLine" id="cb11-9" data-line-number="9">             <span class="dt">scales =</span> <span class="st">"free_y"</span>)</a></code></pre></div>
<p><img src="reference/figures/README-extreme-1.png" width="100%"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/tidyverts/feasts">https://â€‹github.com/â€‹tidyverts/â€‹feasts</a>
</li>
<li>Report a bug at <br><a href="https://github.com/tidyverts/feasts/issues">https://â€‹github.com/â€‹tidyverts/â€‹feasts/â€‹issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://mitchelloharawild.com">Mitchell O'Hara-Wild</a> <br><small class="roles"> Author, maintainer </small>  </li>
<li>
<a href="http://robjhyndman.com">Rob Hyndman</a> <br><small class="roles"> Author </small>  </li>
<li>
<a href="https://earo.me">Earo Wang</a> <br><small class="roles"> Author </small>  </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/tidyverts/feasts"><img src="https://travis-ci.org/tidyverts/feasts.svg?branch=master" alt="Travis build status"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://mitchelloharawild.com">Mitchell O'Hara-Wild</a>, <a href="http://robjhyndman.com">Rob Hyndman</a>, <a href="https://earo.me">Earo Wang</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
